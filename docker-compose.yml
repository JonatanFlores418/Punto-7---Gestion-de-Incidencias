version: "3.9"

services:

  glpi-db:
    image: mysql:8
    container_name: glpi-db
    restart: always
    
    environment:
      MYSQL_ROOT_PASSWORD: rootpass
      MYSQL_DATABASE: glpidb
      MYSQL_USER: glpi
      MYSQL_PASSWORD: glpipass
    volumes:
      - ./mysql:/var/lib/mysql

  glpi:
    image: diouxx/glpi
    container_name: glpi-web
    restart: always
    ports:
      - "8085:80"
    environment:
      TIMEZONE: America/Argentina/Buenos_Aires
      GLPI_DB_HOST: glpi-db
      GLPI_DB_NAME: glpidb
      GLPI_DB_USER: glpi
      GLPI_DB_PASSWORD: glpipass
    depends_on:
      - glpi-db
    # NO MONTAMOS /var/www/html PARA NO ROMPER GLPI
    # NO MONTAMOS config ni files porque el git los trae vac√≠os

networks:
  default:
    driver: bridge

